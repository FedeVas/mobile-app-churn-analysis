# Кластеризация пользователей по типам поведения

## 1) Цель
Сегментировать пользователей по стилю использования приложения и выявить сегменты с повышенным риском оттока.

## 2) Признаки для кластеризации
Кластеризация выполнялась на уровне устройства (user_features):
- events_total, sessions_total, active_days;
- интенсивности events_per_day, sessions_per_day;
- разнообразие поведения (unique_screens, unique_functional);
- доли событий по ключевым экранам (screen_*).

Перед кластеризацией:
- log1p-трансформация перекошенных счётчиков;
- стандартизация;
- PCA до 10 компонент.

## 3) Сравнение методов
### KMeans
Подбор числа кластеров по silhouette показал максимум при k=7 (silhouette ~0.33).

### DBSCAN
DBSCAN выделил 7 кластеров и ~1.4% шума. Silhouette без учёта шума ~0.60.
DBSCAN рассмотрен как эксперимент; для отчётных сегментов и интеграции в churn-модель выбран KMeans (стабильнее и проще для интерпретации и коммуникации).

## 4) Результаты KMeans (k=7)
По кластерам наблюдается сильная дифференциация по churn:
- есть “лояльный” кластер с churn около 20%;
- есть несколько массовых кластеров с churn около 58–60%.



| Кластер | Размер кластера, % | Churn rate, % |
|---------|--------------------|---------------|
| 0       | 27.27              | 59.88         |
| 1       | 7.96               | 50.60         |
| 2       | 13.91              | 20.61         |
| 3       | 10.07              | 57.93         |
| 4       | 27.36              | 31.16         |
| 5       | 1.12               | 46.84         |
| 6       | 12.32              | 57.27         |


## 5) Интерпретация кластеров (по средним метрикам)
Ниже — интерпретация на основе средних значений events/sessions/active_days/разнообразия:

- **Кластер 0 (~27%, churn ~60%)**: “одноразовые” пользователи (≈1 день активности, ≈1 экран, минимум действий).
- **Кластер 3 (~10%, churn ~58%)**: “слабая вовлечённость 1–2 дня” (немного больше действий, но всё ещё низко).
- **Кластер 6 (~12%, churn ~57%)**: “интенсивный краткосрочный сценарий” (много действий за короткое время, затем уход).
- **Кластер 1 (~8%, churn ~51%)**: “исследователи” — много уникального функционала за 1–2 дня, но слабое удержание.
- **Кластер 4 (~27%, churn ~31%)**: “рутнные пользователи” — регулярные визиты, долгий период активности, узкий набор функций.
- **Кластер 2 (~14%, churn ~21%)**: “power users” — высокая активность, много сессий, широкий функционал, лучший retention.
- **Кластер 5 (~1%, churn ~47%)**: малый промежуточный сегмент.

## 6) Вывод
Сегментация по поведению позволяет:
- выделить крупные группы риска (кластеры 0/3/6),
- отделить “ядро” лояльных (кластер 2),
- формировать персонализированные меры удержания и продуктовые гипотезы по каждому сегменту.
